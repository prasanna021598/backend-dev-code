pipeline {
    agent{
         label 'jenkins-agent'
    }
    options {
        // Timeout counter starts AFTER agent is allocated
        timeout(time: 30, unit: 'SECONDS')
    }
    stages {
        stage('Install dependencies') {
            steps {
                sh """
                    npm install
                    ls -ltr
                """
            }
        }
        stage('Zipping the code') {
            steps {
                sh """
                zip -r backend.zip /* -x "jenkinsfile"
                """
            }
        }
    }
}